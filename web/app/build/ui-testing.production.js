angular.module("httpMocker",[]).factory("httpMocker",[function(){var a={},b=new Hashes.SHA1,c=function(a,c,d){var e=a.toLowerCase()+c;return _.isEmpty(d)||!_.isString(d)&&!_.isObject(d)||(e+=_.isObject(d)?JSON.stringify(d):d),b.hex(e)};return{register:function(b,d,e,f){f=f||{},a[c(b,d,f.payload)]={response:e||"",statusCode:f.statusCode||200,headers:f.headers||"",payload:f.payload||void 0,delay:f.delay||0}},resolve:function(b,d,e){return a[c(b,d,e)]||!1}}}]).provider("$httpBackend",[function(){function a(a){return parseInt(a,10)}function b(a){return a&&isFunction(a.then)}function c(a){if(8>=h&&(!a.match(/^(get|post|head|put|delete|options)$/i)||!window.XMLHttpRequest))return new window.ActiveXObject("Microsoft.XMLHTTP");if(window.XMLHttpRequest)return new window.XMLHttpRequest;throw minErr("$httpBackend")("noxhr","This browser does not support XMLHttpRequest.")}function d(a,d,e,i,j,k,l,m){function n(a,b,c){var d=j.createElement("script"),e=null;return d.type="text/javascript",d.src=a,d.async=!0,e=function(a){removeEventListenerFn(d,"load",e),removeEventListenerFn(d,"error",e),j.body.removeChild(d),d=null;var f=-1,g="unknown";a&&("load"!==a.type||i[b].called||(a={type:"error"}),g=a.type,f="error"===a.type?404:200),c&&c(f,g)},addEventListenerFn(d,"load",e),addEventListenerFn(d,"error",e),j.body.appendChild(d),e}var o=-1;return function(d,j,k,p,q,r,s,t){function u(){w=o,z&&z(),A&&A.abort()}function v(b,c,d,f,h){C&&e.cancel(C),z=A=null,0===c&&(c=d?200:"file"==urlResolve(j).protocol?404:0),c=1223===c?204:c,h=h||"",b(c,d,f,h),a.$$completeOutstandingRequest(g)}var w;if(a.$$incOutstandingRequestCount(),j=j||a.url(),"jsonp"==f(d)){var x=l.resolve(d,j,k);if(x&&k==JSON.stringify(x.payload))m(function(){v(p,x.statusCode,x.response,x.headers)},x.delay);else{var y="_"+(i.counter++).toString(36);i[y]=function(a){i[y].data=a,i[y].called=!0};var z=n(j.replace("JSON_CALLBACK","angular.callbacks."+y),y,function(a,b){v(p,a,i[y].data,"",b),i[y]=g})}}else{var x=l.resolve(d,j,k);if(x)m(function(){v(p,x.statusCode,x.response,x.headers)},x.delay);else{var A=c(d);if(A.open(d,j,!0),angular.forEach(q,function(a,b){angular.isDefined(a)&&A.setRequestHeader(b,a)}),A.onreadystatechange=function(){if(A&&4==A.readyState){var a=null,b=null,c="";w!==o&&(a=A.getAllResponseHeaders(),b="response"in A?A.response:A.responseText),w===o&&10>h||(c=A.statusText),v(p,w||A.status,b,a,c)}},s&&(A.withCredentials=!0),t)try{A.responseType=t}catch(B){if("json"!==t)throw B}A.send(k||null)}}if(r>0)var C=e(u,r);else b(r)&&r.then(u)}}var e=window.XMLHttpRequest||function(){try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(a){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(b){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(c){}throw new Error("This browser does not support XMLHttpRequest.")},f=function(a){return _.isString(a)?a.toLowerCase():a},g=function(){},h=a((/msie (\d+)/.exec(f(navigator.userAgent))||[])[1]);return isNaN(h)&&(h=a((/trident\/.*; rv:(\d+)/.exec(f(navigator.userAgent))||[])[1])),{$get:["$browser","$window","$document","httpMocker","$timeout",function(a,b,c,f,g){return d(a,e,a.defer,b.angular.callbacks,c[0],b.location.protocol.replace(":",""),f,g)}]}}]);
